{
    "contents" : "##### Helper functions #####\n\n\n\n# Helper function for reporting about the effect size \neffsz = function (eff, dic){ \n  esmall=.1\n  emed =.3\n  elarge=.5\n  if (dic == 1) {esmall=.2}\n  if (dic == 1) {emed =.5}\n  if (dic == 1) {elarge =.8}\n  btto =\" less than small\"\n  if (abs(eff)>esmall) btto=\" and a small effect size\"\n  if (abs(eff)>emed) btto=\" and a medium effect size\"\n  if (abs(eff)>elarge) btto=\" and a large effect size\"\n  return(btto) \n}\n\neffszm = function (dic){  \n  ess=' (r = '\n  if (dic == 1)ess=' (d = '\n  return(ess)\n}\n\n# Helper function: rounding values \nrround  = function (num,dig){\n  #DAK added two more options; not needed here but used for other programs.\n  if (dig==5) return(sprintf(\"%.3f\", round(num,5)))\n  if (dig==4) return(sprintf(\"%.3f\", round(num,4)))\n  \n  if (dig==2) return(sprintf(\"%.2f\", round(num,2)))\n  if (dig==3) return(sprintf(\"%.3f\", round(num,3)))\n  if (dig==1) return(sprintf(\"%.1f\", round(num,1)))\n}\nrrround  = function (num,dig){\n  if (substring(as.character(rround(num,dig)),1,2)==\"0.\") return(substring(as.character(rround(num,dig)),2,5))\n  if (substring(as.character(rround(num,dig)),1,2)==\"-0\") return(gsub(\"-0\",\"-\", rround(num,dig)))\n  if (substring(as.character(rround(num,dig)),1,2)==\"1.\") return(substring(as.character(rround(num,dig)),1,5))\n  if (substring(as.character(rround(num,dig)),1,2)==\"-1\") return(substring(as.character(rround(num,dig)),1,6))\n}\n\n# Helper function: p-values \npval = function(num) { \n  if (num>=.001) xxx= paste0(\"p = \",rrround(num,3))\n  if (num<.001) xxx= \"p < .001\"\n  return(xxx)}\npval2 = function(num) { \n  if (num>=.001) xxx= rrround(num,3)\n  if (num<.001) xxx= \"<.001\"\n  return(xxx)}\npval3 = function(pvv,alph) { \n  xxx=\"\"\n  if (pvv < alph) xxx=\"*\"\n  return(xxx)}\n\n# report the p-values \nknt = function(pvv,alph) { \n  xxx=\"\"\n  if (pvv >= alph) xxx=\" not\"\n  return(xxx)}\npvalchi = function(num,dff,pvv) {\n  if (pvv>=.001) xxx= paste0(\", p = \",rrround(pvv,3),\")\")\n  if (pvv<.001) xxx= \", p < .001)\"\n  xxx=paste0(\"(chi-square(\",dff,\") = \",rround(num,2),xxx) \n  return(xxx)}\nonetailp = function(p) {  \n  if (p <  .5) { \n    px=p/2\n    return (px) }\n  px = (1 + p)/2 \n  return (px)} \n\nvlisty = function(nn,vname) \n{  \n  vvlist=\"\"\n  for (ii in 1:nn)\n  { \n    if (nn > 2 & ii < nn - 1) vvlist = paste0(vvlist, vname[ii],\", \") \n    if (nn > 2  & ii  == nn -1) vvlist = paste0(vvlist,vname[ii],\", and \") \n    if (ii == 1 & nn ==2) vvlist = paste0(vvlist, vname[ii],\" and \") \n    if (ii == nn) vvlist=paste0(vvlist,vname[ii])\n  }\n  return(vvlist)\n}\n\n# Report about k. \nkcon = function (loww,upp) {\n  if (loww <  -1.0 & upp > 1.0) \n  { txtx=\"the confidence interval for k is very wide and it cannot be determined what model is the most likely.\"\n    return(txtx) } \n  if (loww <  0.0 & upp > 1.0) \n  { txtx=\"the contrast model (k = -1) is implausible and that the couple (k = 1) and the actor-only models (k = 0) are plausible.\"\n    return(txtx) } \n  if (loww <  -1.0 & upp > 0.0) \n  { txtx=\"the couple model (k = 1) is implausible and that the contrast (k = -1) and the actor-only models (k = 0) are plausible.\"\n    return(txtx)} \n  if (loww <  1 & upp > 1) \n  { txtx=\"the contrast (k = -1) and the actor-only (k = 0) models are implausible and that the couple model (k = 1) is plausible.\"\n    return(txtx)} \n  if (loww <  0 & upp > 0) \n  { txtx=\"the contrast (k = -1) and the couple (k = 1) models are implausible and that the actor-only model (k = 0) is plausible.\"\n    return(txtx)} \n  if (loww <  -1 & upp > -1) \n  { txtx=\"the couple (k = 1) and the actor-only (k = 0) models are implausible and that the contrast model (k = -1) is plausible.\"\n    return(txtx)} \n  if (loww > 0 & upp < 1) \n  { txtx=\"the model is in between the actor-only (k = 0) and the couple (k = 1) models.\"\n    return(txtx)} \n  if (loww > -1 & upp < 0) \n  { txtx=\"the model is in between the contrast (k = -1) and the actor-only (k = 0) models.\"\n    return(txtx)} \n  if (upp < -1) \n  { txtx=\"the model is more extreme than the contrast model (k = -1).\"\n    return(txtx)} \n  if (loww > 1) \n  { txtx=\"the model is more extreme than the couple model (k = 1).\"\n    return(txtx)} \n}\n",
    "created" : 1422281857646.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "2042718009",
    "id" : "5A337F99",
    "lastKnownWriteTime" : 1421237390,
    "path" : "C:/Users/admin/Dropbox/APIM/APIM.SEM/APIM.SEM/R/helper functions.R",
    "project_path" : "R/helper functions.R",
    "properties" : {
    },
    "source_on_save" : false,
    "type" : "r_source"
}